<!DOCTYPE html>
<html>
<head>
	<title>Using jQuery & input boxes 2</title>
	<style type="text/css">
		fieldset{
			width: 40%;
		}
		fieldset:nth-child(5){
			background-color: yellow;
		}
	</style>
</head>
<body>
<h1>Bank Loan Calculator</h1>
<fieldset>
	<label>Loan Amount</label>
	<input type="number" name="loan" id="loan" value="100000">
</fieldset>
<fieldset>
	<label>Years</label>
	<input type="number" name="years" id="years" value="30">
</fieldset>
<fieldset>
	<label>Interest Rate</label>
	<input type="number" name="rate" id="rate" value="5">
</fieldset>
<fieldset>
	<label>Annual Payment $</label>
	<span id="pay"></span>
</fieldset>
<fieldset>Mortgage: <input type="checkbox" id="mortgage" value="100">
</fieldset>

<button id="btn">Calculate</button>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js">
</script>



<script type="text/javascript">

	/*
		P = (rL)/(1-(1+r)pow(-n))
		n = years * 12

		P = monthly payment
		L = principal loan
		r = rate per period
		n = number of periods

	*/

	$("#btn").click(function(){
		let loan = parseInt($("#loan").val());
		let years = parseInt($("#years").val());
		var rate = parseInt($("#rate").val());
		var rate = rate/100/12;
		var pay = (rate*loan)/(1 - Math.pow((1+rate),(-(years * 12))));
		var pay = pay.toFixed(2);
		$("#pay").html(pay);
		if($("#mortgage").prop('checked') == true){
		if($("#mortgage").is(":checked")){
			alert("mortgage is checked");
		}
		
		// var mortgage = $("#mortgage:checked").val();
		// 	alert("You will pay mortgage "+ mortgage);

		
	})
</script>
</body>
</html>